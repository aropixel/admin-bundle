{% extends '@AropixelAdmin/Form/base.html.twig' %}

{% block header_title %}{% trans %}Users{% endtrans %}{% endblock %}
{% block header_breadcrumb %}
    <ul class="breadcrumb breadcrumb-caret position-right">
        <li class="breadcrumb-item"><a href="{{ url('_admin') }}">{% trans %}Home{% endtrans %}</a></li>
        <li class="breadcrumb-item"><a href="{{ url('aropixel_admin_user_index') }}">{% trans %}Users{% endtrans %}</a></li>
        {% if user and user.id %}
            <li class="breadcrumb-item active">{% trans %}Edit{% endtrans %}</li>
        {% else %}
            <li class="breadcrumb-item active">{% trans %}Add{% endtrans %}</li>
        {% endif %}
    </ul>
{% endblock %}

{% set tabbableCollapsed = false %}

{% block formtitle %}{% if user and user.id %}Modifier un utilisateur{% else %}Ajouter un utilisateur{% endif %}{% endblock %}

{% block publishState %}
    <div class="section-entry-status">
        <div class="d-flex align-items-center">
            <div>{{ user.enabled ? "Active" : "Inactive"}} </div>
            <span class="status-indicator {{ user.enabled ? "checked" : "" }}"></span>
        </div>
    </div>
{% endblock %}

{% block mainPanel %}

    <div class="card card-centered card-centered-large">

        <div class="card-body">

            {{ form_row(form.enabled) }}

            {{ form_row(form.lastName) }}
            {{ form_row(form.firstName) }}

            {% if is_granted('ROLE_SUPER_ADMIN') %}
                {{ form_row(form.superAdmin) }}
            {% endif %}

            {{ form_row(form.email) }}
            {{ form_row(form.plainPassword.first, {'attr': {'data-gdpr': 'true'}}) }}
            {{ form_row(form.plainPassword.second) }}

        </div>

    </div>

{% endblock %}


{% block publishStatus %}{% endblock %}
