{# Get available crop filters for this image #}
{% set myfilters = get_available_crop_filters(image, optional_available_crop_list) %}

<!-- Full width modal -->
<div id="modalCrop{{ image.getImageUid() }}" class="modalCrop modal fade" style="text-align: left">
	<div class="modal-dialog modal-full">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Recadrer une image</h5>
				<button type="button" class="close" data-dismiss="modal">&times;</button>
			</div>

			<div class="modal-body">

				<div>

					<div class="float-left" id="crop_zone">
						<img src="{{ image.getImageWebPath() | imagine_filter('admin_crop') }}" width="600" data-id="{{ image.getImageUid() }}" />
					</div>

					<div class="float-left full-with m-l-50" id="crop_options">

						<h4><span class="semi-bold">Régler les découpes</span> de votre image</h4>

						<p>
							Optimisez l'affichage des images dans votre site, en réglant les différentes découpes de vos images.<br />
							<strong>Attention, si vous réduisez beaucoup votre zone de sélection, la qualité pourrait être affectée.</strong>
						</p>

						{% set class = 'checked="checked"' %}
						{% for filter in myfilters %}

							<div class="form-check">
								<input id="ratio_{{ filter.slug }}" class="form-check-input" {{ class }} type="radio" name="ratio{{ suffix }}" value="{{ filter.slug }}" data-ratio="{{ filter.ratio }}" data-crop="{{ filter.coordinates }}">
								<label for="ratio_{{ filter.slug }}" class="form-check-label">{{ filter.description }}</label><br />
							</div>

							{% set class = '' %}
						{% endfor %}


					</div>
					<div class="clearfix"></div>

				</div>

			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-link" data-dismiss="modal">Fermer</button>
				<button type="button" class="btn btn-primary crop-file">Recadrer l'image</button>
			</div>
		</div>
	</div>
</div>
<!-- /full width modal -->
